#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.09
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1081929522',
        'name' => 'bug/create/create.html.tmpl',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $error;
        
        eval { BLOCK: {
    $output .=  "<!-- 1.0\@bugzilla.org -->\n";
    $output .=  "\n";
    $output .=  $context->process('global/header.html.tmpl', { 'title' => 'バグ登録', 'h2' => 'このページで Bugzilla にバグを登録できます。' });
    $output .=  "\n\n<form method=\"post\" action=\"post_bug.cgi\">\n<input type=\"hidden\" name=\"product\" value=\"";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('product');
        
        &$filter($output);
    };
    
    $output .=  "\">\n\n<table cellspacing=\"2\" cellpadding=\"0\" border=\"0\">\n\n  <tr>\n    <td><br></td>\n  </tr>\n\n  <tr>\n    <td></td>\n    <td colspan=\"3\">\n    ";
    $output .=  $context->include('bug/create/user-message.html.tmpl');
    $output .=  "\n    </td>\n  </tr>\n  \n  <tr>\n    <td><br></td>\n  </tr>\n\n  <tr>\n    <td align=\"right\" valign=\"top\"><strong>報告者:</strong></td>\n    <td valign=\"top\">";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('reporter');
        
        &$filter($output);
    };
    
    $output .=  "</td>\n    \n    <td align=\"right\" valign=\"top\"><strong>プロダクト:</strong></td>\n    <td valign=\"top\">";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('product');
        
        &$filter($output);
    };
    
    $output .=  "</td>\n  </tr>\n  \n  ";
    $output .=  "\n  <tr>\n    <td align=\"right\" valign=\"top\">\n      <strong>バージョン:</strong>\n    </td>\n    <td>\n      <select name=\"version\" size=\"5\">";
    
    # FOREACH 
    do {
        my ($value, $error, $oldloop);
        my $list = $stash->get('version');
        
        unless (UNIVERSAL::isa($list, 'Template::Iterator')) {
            $list = Template::Config->iterator($list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($value, $error) = $list->get_first();
        eval { $oldloop = $stash->get('loop') };
        $stash->set('loop', $list);
        eval {
    LOOP:   while (! $error) {
                $stash->{'v'} = $value;
    $output .=  "\n          <option value=\"";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('v');
        
        &$filter($output);
    };
    
    $output .=  "\"";
    if ($stash->get('v') eq $stash->get(['default', 0, 'version', 0])) {
    $output .=  ('' . " selected=\"selected\"");
    }
    
    $output .=  ">";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('v');
        
        &$filter($output);
    };
    
    $output .=  "          </option>";;
                ($value, $error) = $list->get_next();
            }
        };
        $stash->set('loop', $oldloop);
        die $@ if $@;
        $error = 0 if $error && $error eq Template::Constants::STATUS_DONE;
        die $error if $error;
    };
    
    $output .=  "\n      </select>\n    </td>  \n    \n    <td align=\"right\" valign=\"top\">\n      <strong>\n        <a href=\"describecomponents.cgi?product=";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('url_quote')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('product');
        
        &$filter($output);
    };
    
    $output .=  "\">\n          コンポーネント</a>:\n      </strong>\n    </td>\n    <td>\n      <select name=\"component\" size=\"5\">";
    
    # FOREACH 
    do {
        my ($value, $error, $oldloop);
        my $list = $stash->get('component_');
        
        unless (UNIVERSAL::isa($list, 'Template::Iterator')) {
            $list = Template::Config->iterator($list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($value, $error) = $list->get_first();
        eval { $oldloop = $stash->get('loop') };
        $stash->set('loop', $list);
        eval {
    LOOP:   while (! $error) {
                $stash->{'c'} = $value;
    $output .=  "\n          <option value=\"";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['c', 0, 'name', 0]);
        
        &$filter($output);
    };
    
    $output .=  "\"";
    if ($stash->get(['c', 0, 'name', 0]) eq $stash->get(['default', 0, 'component_', 0])) {
    $output .=  ('' . " selected=\"selected\"");
    }
    
    $output .=  ">";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['c', 0, 'name', 0]);
        
        &$filter($output);
    };
    
    $output .=  "          </option>";;
                ($value, $error) = $list->get_next();
            }
        };
        $stash->set('loop', $oldloop);
        die $@ if $@;
        $error = 0 if $error && $error eq Template::Constants::STATUS_DONE;
        die $error if $error;
    };
    
    $output .=  "\n      </select>\n    </td>  \n  </tr>\n  \n  <tr>\n    <td>&nbsp;</td>\n    <td colspan=\"3\"></td>\n  </tr>\n  \n  <tr>";
    $stash->set('sel', { 'description' => 'プラットフォーム', 'name' => 'rep_platform'  });
    $output .=  $context->include('select');
    $output .=  "\n    ";
    $stash->set('sel', { 'description' => 'OS', 'name' => 'op_sys'  });
    $output .=  $context->include('select');
    $output .=  "\n  </tr>\n  \n  <tr>  ";
    if ($stash->get(['Param', [ 'letsubmitterchoosepriority' ]])) {
    $stash->set('sel', { 'description' => '優先順位', 'name' => 'priority'  });
    $output .=  $context->include('select');
    }
    else {
    $output .=  "\n    <input type=\"hidden\" name=\"priority\" \n           value=\"";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['default', 0, 'priority', 0]);
        
        &$filter($output);
    };
    
    $output .=  "\">";
    }
    
    $output .=  "\n";
    $stash->set('sel', { 'description' => '重要度', 'name' => 'bug_severity'  });
    $output .=  $context->include('select');
    $output .=  "    \n  </tr>\n  \n  <tr>\n    <td>&nbsp;</td>\n    <td colspan=\"3\"></td>\n  </tr>\n";
    if ($stash->get(['bug_status', 0, 'size', 0]) > 1) {
    $output .=  " \n  <tr>";
    $stash->set('sel', { 'description' => '初期ステータス', 'name' => 'bug_status'  });
    $output .=  $context->include('select');
    $output .=  "\n    \n    <td colspan=\"2\"></td>\n  </tr>";
    }
    else {
    $output .=  "\n  <input type=\"hidden\" name=\"bug_status\" value=\"";
    $output .=  $stash->get(['default', 0, 'bug_status', 0]);
    $output .=  "\">  ";
    }
    
    $output .=  "\n\n  <tr>\n    <td align=\"right\">\n      <strong>\n        <a href=\"bug_status.html#assigned_to\">担当者</a>:\n      </strong>\n    </td>\n    <td colspan=\"3\">\n      <input name=\"assigned_to\" size=\"32\" \n             value=\"";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('assigned_to');
        
        &$filter($output);
    };
    
    $output .=  "\">\n      (空白のままだと、コンポーネントの初期担当者がこのバグを担当します)\n    </td>\n  </tr>\n  \n  <tr>\n    <td align=\"right\"><strong>Cc:</strong></td>\n    <td colspan=\"3\">\n      <input name=\"cc\" size=\"45\" value=\"";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('cc');
        
        &$filter($output);
    };
    
    $output .=  "\">\n    </td>\n  </tr>\n  \n  <tr>\n    <td>&nbsp;</td>\n    <td colspan=\"3\"></td>\n  </tr>\n\n  <tr>\n    <td align=\"right\"><strong>URL:</strong></td>\n    <td colspan=\"3\">\n      <input name=\"bug_file_loc\" size=\"60\" \n             value=\"";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('bug_file_loc');
        
        &$filter($output);
    };
    
    $output .=  "\">\n    </td>\n  </tr>\n  \n  <tr>\n    <td align=\"right\"><strong>要約:</strong></td>\n    <td colspan=\"3\">\n      <input name=\"short_desc\" size=\"60\" value=\"";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('short_desc');
        
        &$filter($output);
    };
    
    $output .=  "\">\n    </td>\n  </tr>\n  \n  <tr><td align=\"right\" valign=\"top\"><strong>コメント:</strong></td>\n    <td colspan=\"3\">\n      <textarea wrap=\"hard\" name=\"comment\" rows=\"10\" cols=\"80\">";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('comment');
        
        &$filter($output);
    };
    
    $output .=  "</textarea>\n      <br>\n    </td>\n  </tr>\n  \n  <tr>\n    <td></td>\n    <td colspan=\"3\">";
    if ($stash->get(['group', 0, 'size', 0])) {
    $output .=  "\n      <br>\n        <strong>\n          選択されたグループすべてに属するユーザのみがこのバグを閲覧することができます:\n        </strong>\n      <br>\n      <font size=\"-1\">\n        (すべてのボックスのチェックを外すと誰でも見ることのできるバグになります)\n      </font>\n      <br>\n      <br>\n\n      <!-- Checkboxes -->";
    
    # FOREACH 
    do {
        my ($value, $error, $oldloop);
        my $list = $stash->get('group');
        
        unless (UNIVERSAL::isa($list, 'Template::Iterator')) {
            $list = Template::Config->iterator($list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($value, $error) = $list->get_first();
        eval { $oldloop = $stash->get('loop') };
        $stash->set('loop', $list);
        eval {
    LOOP:   while (! $error) {
                $stash->{'g'} = $value;
    $output .=  "\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <input type=\"checkbox\" name=\"bit-";
    $output .=  $stash->get(['g', 0, 'bit', 0]);
    $output .=  "\" value=\"1\"";
    if ($stash->get(['g', 0, 'checked', 0])) {
    $output .=  ('' . " checked=\"checked\"");
    }
    
    $output .=  ">";
    $output .=  $stash->get(['g', 0, 'description', 0]);
    $output .=  "<br>";;
                ($value, $error) = $list->get_next();
            }
        };
        $stash->set('loop', $oldloop);
        die $@ if $@;
        $error = 0 if $error && $error eq Template::Constants::STATUS_DONE;
        die $error if $error;
    };
    
    $output .=  "\n      <br>";
    }
    
    $output .=  "\n    </td>\n  </tr>\n  \n  <tr>\n    <td></td>\n    <td colspan=\"3\">\n      <input type=\"submit\" value=\"    Commit    \" \n             onclick=\"if (this.form.short_desc.value == '') \n             { alert('このバグの要約を入力してください'); \n               return false; } return true;\">\n      &nbsp;&nbsp;&nbsp;&nbsp;\n      <input type=\"submit\" name=\"maketemplate\" \n             value=\"入力された値を、ブックマーク可能なテンプレートとして記録\">\n    </td>\n  </tr>\n";
    if ($stash->get(['Param', [ 'usebrowserinfo' ]])) {
    $output .=  "\n  <tr>\n    <td></td>\n    <td colspan=\"3\">\n      <br>\n      あなたの OS とプラットフォームを推測しました。正しいかどうか確かめて、もしまちがっていたら ";
    $output .=  $stash->get(['Param', [ 'maintainer' ]]);
    $output .=  " にメールしてください。\n    </td>\n  </tr>";
    }
    
    $output .=  "\n\n  </table>\n  <input type=\"hidden\" name=\"form_name\" value=\"enter_bug\">\n</form>\n";
    $output .=  $context->process('global/footer.html.tmpl');
    $output .=  "\n\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  "\n";
        } };
        if ($@) {
            $error = $context->catch($@, \$output);
            die $error unless $error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {
        'select' => sub {
            my $context = shift || die "template sub called without context\n";
            my $stash   = $context->stash;
            my $output  = '';
            my $error;
            
            eval { BLOCK: {
        if ($stash->get(['sel', 0, 'description', 0])) {
        $output .=  "\n  <td align=\"right\">\n    <strong>\n      <a href=\"bug_status.html#";
        $output .=  $stash->get(['sel', 0, 'name', 0]);
        $output .=  "\">";
        $output .=  $stash->get(['sel', 0, 'description', 0]);
        $output .=  "</a>:\n    </strong>\n  </td>";
        }
        
        $output .=  "\n  \n  <td>\n    <select name=\"";
        $output .=  $stash->get(['sel', 0, 'name', 0]);
        $output .=  "\">";
        
        # FOREACH 
        do {
            my ($value, $error, $oldloop);
            my $list = $stash->get($stash->get(['sel', 0, 'name', 0]));
            
            unless (UNIVERSAL::isa($list, 'Template::Iterator')) {
                $list = Template::Config->iterator($list)
                    || die $Template::Config::ERROR, "\n"; 
            }
        
            ($value, $error) = $list->get_first();
            eval { $oldloop = $stash->get('loop') };
            $stash->set('loop', $list);
            eval {
        LOOP:   while (! $error) {
                    $stash->{'x'} = $value;
        $output .=  "\n      <option value=\"";
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get('x');
            
            &$filter($output);
        };
        
        $output .=  "\"";
        if ($stash->get('x') eq $stash->get(['default', 0, $stash->get(['sel', 0, 'name', 0]), 0])) {
        $output .=  ('' . " selected=\"selected\"");
        }
        
        $output .=  ">";
        
        # FILTER
        $output .=  do {
            my $output = '';
            my $filter = $context->filter('html')
                      || $context->throw($context->error);
        
        $output .=  $stash->get('x');
            
            &$filter($output);
        };
        
        $output .=  "      </option>";;
                    ($value, $error) = $list->get_next();
                }
            };
            $stash->set('loop', $oldloop);
            die $@ if $@;
            $error = 0 if $error && $error eq Template::Constants::STATUS_DONE;
            die $error if $error;
        };
        
        $output .=  "\n    </select>\n  </td>";
            } };
            if ($@) {
                $error = $context->catch($@, \$output);
                die $error unless $error->type eq 'return';
            }
        
            return $output;
        },
    },
});

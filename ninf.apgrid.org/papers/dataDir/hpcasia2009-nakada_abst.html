<h1> Abstract </h1>
<hr>
This paper proposes a design pattern for composing grid middleware and introduces Grid RPC system Ninf-G implementation as an application of the pattern. There are not a few libraries and toolkits proposed to help composing applications and middleware on the grid. The most commonly used style for composing applications and middleware will be `monolithic'; i.e., the core logic are written using the provided API and directly linked with the libraries into a single binary. While this style is intuitive, there are several issues on this style; 1) Middleware/applications have to be written in the same language with the library, 2) When APIs of libraries update, the core portion of the middleware/applications have to be modified, 3) Mixed use of several libraries might cause serious name collision or dependency collision. We propose a proxy-based design pattern to compose grid middleware/applications, which is conducted from our years of experience with implementing Grid RPC system Ninf-G, where the each function of the library will be allocated separate process which communicate with the middleware/applications' core process with simple protocol. This design pattern allows the core process to be portable among several grid libraries/toolkits and to be written in arbitrary language. We introduce GridRPC Ninf-G version 5 implementation as an application of the design pattern. We compared it with the previous incarnation of the same system, which is implemented in monolithic way from two point of view; invocation latency and communication throughput. Contrary to the intuitive expectation, the result showed that the impact of the design pattern is negligible in terms of invocation latency and acceptable in terms of communication throughput.
<hr>

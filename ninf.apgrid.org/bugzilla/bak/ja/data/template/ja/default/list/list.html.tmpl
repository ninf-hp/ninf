#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.09
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1081929522',
        'name' => 'list/list.html.tmpl',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $error;
        
        eval { BLOCK: {
    $output .=  "<!-- 1.0\@bugzilla.org -->\n";
    $output .=  "\n\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  "\n";
    $stash->set('title', 'Bug List', 1);
    $stash->set('style_urls', [ 'css/buglist.css' ]);
    
    # CAPTURE
    $stash->set('qorder', do {
        my $output = '';
    if ($stash->get('order')) {
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('url_quote')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('order');
        
        &$filter($output);
    };
    
    }
    
        $output;
    });
    
    $output .=  "\n\n\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  $context->process('global/header.html.tmpl', { 'title' => $stash->get('title'), 'style' => $stash->get('style') });
    $output .=  "\n\n<div align=\"center\">\n  <b>";
    $output .=  $stash->get('currenttime');
    $output .=  "</b><br>\n";
    if ($stash->get('debug')) {
    $output .=  "\n    <p>";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('query');
        
        &$filter($output);
    };
    
    $output .=  "</p>";
    }
    
    $output .=  "\n";
    if ($stash->get('quip')) {
    $output .=  "\n    <a href=\"quips.cgi\"><i>";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('quip');
        
        &$filter($output);
    };
    
    $output .=  "</i></a>";
    }
    
    $output .=  "\n\n</div>\n";
    if ($stash->get('toolong')) {
    $output .=  "\n  <h2>\n    このリストは長過ぎるため、\n    個々のバグレポートに 最初/最後/前/次 ボタンは表示されません。\n    <!--This list is too long for Bugzilla's little mind; the \n    Next/Prev/First/Last buttons won't appear on individual bugs.-->\n  </h2>";
    }
    
    $output .=  "\n\n<hr>\n\n\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  "\n";
    if ($stash->get(['bugs', 0, 'size', 0]) > 9) {
    $output .=  $stash->get(['bugs', 0, 'size', 0]);
    $output .=  " 個のバグが見つかりました。";
    }
    
    $output .=  "\n\n\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  "\n";
    if ($stash->get('dotweak')) {
    $output .=  "\n  <form name=\"changeform\" method=\"post\" action=\"process_bug.cgi\">";
    }
    
    $output .=  "\n\n\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  $stash->get('FLUSH');
    $output .=  $context->process('list/table.html.tmpl');
    $output .=  "\n\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  "\n";
    if ($stash->get(['bugs', 0, 'size', 0]) eq 0) {
    $output .=  "\n  バグはひとつも見つかりませんでした。\n  <p>\n    <a href=\"query.cgi\">検索</a>\n    &nbsp;&nbsp;<a href=\"enter_bug.cgi\">新規バグ登録</a>\n    <a href=\"query.cgi?";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('urlquerypart');
        
        &$filter($output);
    };
    
    $output .=  "\">検索条件を調整</a>\n  </p>\n";
    }
    elsif ($stash->get(['bugs', 0, 'size', 0]) eq 1) {
    $output .=  "\n  ひとつのバグが見つかりました。\n";
    }
    else {
    $output .=  $stash->get(['bugs', 0, 'size', 0]);
    $output .=  " 個のバグが見つかりました。\n";
    }
    
    $output .=  "\n\n<br>\n\n\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  "\n";
    if ($stash->get('dotweak')) {
    $output .=  "\n";
    $output .=  $context->process('list/edit-multiple.html.tmpl');
    $output .=  "\n  \n  </form>\n\n  <hr>\n";
    }
    
    $output .=  "\n\n\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  "\n";
    if ($stash->get(['bugs', 0, 'size', 0]) > 0) {
    $output .=  "\n  <form method=\"post\" action=\"long_list.cgi\">\n    <input type=\"hidden\" name=\"buglist\" value=\"";
    $output .=  $stash->get('buglist');
    $output .=  "\">\n    <input type=\"submit\" value=\"詳細表示\">\n\n    <a href=\"query.cgi\">検索</a> &nbsp;&nbsp;\n    <a href=\"enter_bug.cgi\">新規バグ登録</a> &nbsp;&nbsp;\n    <a href=\"colchange.cgi?";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('urlquerypart');
        
        &$filter($output);
    };
    
    $output .=  "\">表示項目の変更</a> &nbsp;&nbsp;\n";
    if ($stash->get(['bugs', 0, 'size', 0]) > 1 && $stash->get('caneditbugs') && ! $stash->get('dotweak')) {
    $output .=  "\n      <a href=\"buglist.cgi?";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('urlquerypart');
        
        &$filter($output);
    };
    
    if ($stash->get('order')) {
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  ("&order=" . $stash->get('qorder'));
        
        &$filter($output);
    };
    
    }
    
    $output .=  "&amp;tweak=1\">複数バグをまとめて変更</a>\n      &nbsp;&nbsp;";
    }
    
    $output .=  "\n";
    if ($stash->get('bugowners')) {
    $output .=  "\n      <a href=\"mailto:";
    $output .=  $stash->get('bugowners');
    $output .=  "\">各担当者へのメールを作成</a> &nbsp;&nbsp;";
    }
    
    $output .=  "\n\n    <a href=\"query.cgi?";
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('urlquerypart');
        
        &$filter($output);
    };
    
    $output .=  "\">検索条件を調整</a> &nbsp;&nbsp;\n\n  </form>\n";
    }
    
    $output .=  "\n\n\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  "\n";
    $output .=  $context->process('global/footer.html.tmpl');
    $output .=  "\n\n";
        } };
        if ($@) {
            $error = $context->catch($@, \$output);
            die $error unless $error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {

    },
});
